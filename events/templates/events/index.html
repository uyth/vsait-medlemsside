<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>VSAIT - Arrangementer</title>
		{% load static %}
		<link rel="stylesheet" type="text/css" href="{% static 'home/style.css' %}">
		<link rel="stylesheet" type="text/css" href="{% static 'events/style.css' %}">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
	</head>
	<body>
		<div class="wrapper">
			{% block header %}
				{% include 'home/header.html' %} 
			{% endblock header %}
			<div class="bg" style="position: absolute;background-color: rgba(255, 69, 50, 0.85);height: 500px;width: 100%;"></div>
			<main>
				<div class="innhold" style="transform: translateY(0);margin-bottom: 180px;">
					<h1>Alle Arrangementer</h1>
					<div class="events">
					{% if events %}
						{% for event in events %}
						<div class="event_wrapper">
							<a href="{% url 'events:detail' event.pk %}" class="{{ event.is_ongoing | yesno:"upcoming,old" }}">
								<div class="event {{ event.is_upcoming | yesno:"upcoming,old" }}">
									<div class="bilde">
										<h2>{{ event.title }}</h2>
										<h2 class="type" style="bottom: 70px">{{ event.location }}</h2>
										<h2 class="type" style="bottom: 35px">{{ event.startTime | date:'l d.m.Y' }}</h2>
										<h2 class="type">{% if event.event_type == 'medlem' %}Membership required{% else %}Open for all{% endif %}</h2>
										<img src="{{ event.image.url }}"/>
									</div>
									<div class="info">
										Antall påmeldte: {{ event.number_of_registrations }}/{{event.display_max_people}} {% if event.has_waiting_users %} ({{event.number_of_waiting_users}} på venteliste) {% endif %}
									</div>
								</div>
							</a>
						</div>
						{% endfor %}
					{% else %}
					<p>No events are available.</p>
					{% endif %}
					<div class="pagination">
						<span class="step-links">
							{% if page_obj.has_previous %}
								<a href="?page=1">&laquo; first</a>
								<a href="?page={{ page_obj.previous_page_number }}">previous</a>
							{% endif %}

							<span class="current">
								Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
							</span>

							{% if page_obj.has_next %}
								<a href="?page={{ page_obj.next_page_number }}">next</a>
								<a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
							{% endif %}
						</span>
					</div>
				</div>
			</main>
			{% block footer %}
				{% include 'home/footer.html' %} 
			{% endblock footer %}
		</div>
	</body>
</html>
